<!--
-----------------------------------------
Fichier : templates/base.html
-----------------------------------------
Template de base commun à toutes les pages, incluant une barre latérale déployable.
-----------------------------------------
-->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Medianautes - {{ title if title else 'Accueil' }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <header>
    <h1><a href="{{ url_for('home') }}">Medianautes</a></h1>
    <nav>
      <!-- Lien pour rafraîchir les flux RSS -->
      <a href="{{ url_for('refresh_feeds') }}">Rafraîchir les flux</a>
    </nav>
  </header>

  <div class="container">
    <!-- Barre latérale commune sur toutes les pages -->
    <aside class="sidebar">
      <h2>Médias</h2>
      <ul class="sidebar-media">
        {% for media_name in media_names_sorted %}
          <li>
            <details>
              <summary>
                <a href="{{ url_for('media_page', media_name=media_name) }}">{{ media_name }}</a>
              </summary>
              <ul class="sidebar-videos">
                {% for video in last_5_by_media[media_name] %}
                  <li>
                    <a href="{{ video.link }}" target="_blank">{{ video.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            </details>
          </li>
        {% endfor %}
      </ul>
    </aside>

    <!-- Contenu principal -->
    <main class="content">
      {% block content %}{% endblock %}
    </main>
  </div>

  <footer>
    <p>&copy; 2025 - Medianautes</p>
  </footer>

</body>
</html>
